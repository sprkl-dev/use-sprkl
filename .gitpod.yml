# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.
vscode:
  extensions:
    - https://gitpod-vsix.s3.amazonaws.com/vscode.vsix

ports:
  - name: Store
    description: Sprkl store
    port: 80
    onOpen: open-browser

  - name: Sprkl
    description: Sprkl agent
    port: 57011
    onOpen: open-browser

tasks:
  - before: |
      mv /workspace/sprkl $HOME/.sprkl
      export PATH="$PATH:$HOME/.sprkl/bin"
    init: |
      npx --yes @sprkl/scripts@0.0.38 install
      sprkl deploy
      mv $HOME/.sprkl /workspace/sprkl
      yarn install
      docker compose pull
      docker compose build
      
    

